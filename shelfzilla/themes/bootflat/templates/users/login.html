{% extends "_layout.html" %}
{% load i18n %}

{% block navigation_bar %}{% endblock %}
{% block page_title %}{{ block.super }} | Login{% endblock %}

{% block extra_js %}
{% if login_form.errors %}
<script type="text/javascript">
$(function(){
    {% for key, error in login_form.errors.items %}
    toastr.error('{{ error }}');
    {% endfor %}
})
</script>
{% endif %}
{% endblock %}

{% block main_content %}
<div class="panel panel-primary panel-login">
    <div class="panel-heading">
        <h3 class="panel-title">{% trans "Access the site" %}</h3>
    </div>
    <div class="panel-body">
        <form method="post" class="form form-horizontal">
            {% csrf_token %}
            {% for field in login_form %}
            <div class="form-group {% if field.errors %}has-error has-feedback{% endif %} form-horizontal">
                <label class="col-sm-2 control-label">{{ field.label }}</label>
                <div class="col-sm-offset-2 col-sm-8">
                    <input type="{{ field.type }}" name="{{ field.name }}" class="form-control {{ field.classes }}" />
                    {% if field.errors %}
                    <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
            <button class="btn btn-primary" type="submit">{% trans "Login" %}</button>
        </form>
    </div>
</div>
{% endblock %}
